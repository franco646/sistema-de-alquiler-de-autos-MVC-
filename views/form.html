{% extends "main.html" %}
{% block body %}
<div class="container is-max-desktop">
    <div class="notification is-primary">
        <form {% if editionMode %} action="/edit-car/{{ auto.id }}" {% else %} action="/add-car" {% endif %} method="POST" enctype="multipart/form-data" id="formulario">
            <div class="field">
                <label class="label">Marca</label>
                <div class="control">
                  <input class="input" type="text" placeholder="Ej: Chevrolet" name="marca" {% if editionMode %} value="{{ auto.marca }}" {% else %} value="{{ marca }}" {% endif %}>
                </div>
            </div>
            <div class="field">
                <label class="label">Modelo</label>
                <div class="control">
                  <input class="input" type="text" placeholder="Ej: Corsa" name="modelo" {% if editionMode %} value="{{ auto.modelo }}" {% else %} value="{{ modelo }}" {% endif %}>
                </div>
            </div>
            <div class="field">
                <label class="label">Año</label>
                <div class="control">
                  <input class="input" type="text" placeholder="Ej: 2005" name="año" {% if editionMode %} value="{{ auto.año }}" {% else %} value="{{ año }}" {% endif %}>
                </div>
            </div>
            <div class="field">
                <label class="label">Kms</label>
                <div class="control">
                  <input class="input" type="number" placeholder="Ej: 123456" name="kms" {% if editionMode %} value="{{ auto.kms }}" {% else %} value="{{ kms }}" {% endif %}>
                </div>
            </div>
            <div class="field">
                <label class="label">Color</label>
                <div class="control">
                  <input class="input" type="text" placeholder="Ej: Rojo" name="color" {% if editionMode %} value="{{ auto.color }}" {% else %} value="{{ color }}" {% endif %}>
                </div>
            </div>
            <div class="field">
                <label class="label">Imagen del auto</label>
                <div class="control">
                  <input type="file" name="imagen" class="input" value="{{ imagen }}" >
                </div>
            </div>
            <div class="field">
                <label class="label">Aire acondicionado</label>
                <div class="control">
                    <div class="control checkbox-container">
                        <label class="radio">
                          <input type="radio" name="aireAcondicionado" value="si" class="checkbox" {% if editionMode and auto.aireAcondicionado == "si" %} checked {% endif %} {% if aireAcondicionado == 'si' %} checked {% endif %}>
                          Si
                        </label>
                        <label class="radio">
                          <input type="radio" name="aireAcondicionado" value="no" class="checkbox" {% if editionMode and auto.aireAcondicionado == "no" %} checked {% endif %} {% if aireAcondicionado == 'no' %} checked {% endif %}>
                          No
                        </label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label class="label">Pasajeros</label>
                <div class="control">
                  <div class="select">
                    <select name="pasajeros">
                      <option {% if editionMode and auto.pasajeros == 1 %} selected {% endif %} {% if pasajeros == 1 %} selected {% endif %}>1</option>
                      <option {% if editionMode and auto.pasajeros == 2 %} selected {% endif %} {% if pasajeros == 2 %} selected {% endif %}>2</option>
                      <option {% if editionMode and auto.pasajeros == 4 %} selected {% endif %} {% if pasajeros == 4 %} selected {% endif %}>4</option>
                      <option {% if editionMode and auto.pasajeros == 5 %} selected {% endif %} {% if pasajeros == 5 %} selected {% endif %}>5</option>
                      <option {% if editionMode and auto.pasajeros == 6 %} selected {% endif %} {% if pasajeros == 6 %} selected {% endif %}>6</option>
                    </select>
                  </div>
                </div>
            </div>
            <div class="field">
                <label class="label">Manual/Automatico</label>
                <div class="control">
                  <div class="select">
                    <select name="caja">
                      <option {% if auto.manualAutomatico == "Manual" %} selected {% endif %} {% if manualAutomatico == "Manual" %} selected {% endif %}>Manual</option>
                      <option {% if auto.manualAutomatico == "Automatico" %} selected {% endif %} {% if manualAutomatico == "Automatico" %} selected {% endif %}>Automatico</option>
                    </select>
                  </div>
                </div>
            </div>
            <div class="field">
              <label class="label">Precio del alquiler por día</label>
              <div class="control">
                <input class="input" type="number" placeholder="$" name="precioAlquiler" min="0.00" max="10000.00" step="0.01" {% if editionMode %} value="{{ auto.precioAlquilerPorDia }}" {% else %} value="{{ precioAlquilerPorDia }}" {% endif %}>
              </div>
          </div>

            {% if editionMode %}
            <input type="hidden" name="carId" value="{{ auto.id }}">
            {% endif %}

            <input type="hidden" name="_csrf" value="{{ csrfToken }}">

            {% if errores %}
            <p class="help is-danger">{{ errores[0].msg }}</p>
            {% endif %}

            <div class="field is-grouped">
                <div class="control">
                  <button class="button is-link" type="submit">Enviar</button>
                </div>
                <div class="control">
                  <a class="button is-link is-light" href="/">Cancelar</a>
                </div>
            </div>
        </form>
    </div>
  </div>
{% endblock %}